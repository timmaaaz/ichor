{
    "type": "object",
    "required": ["purchase_order_status_id", "delivery_warehouse_id", "delivery_location_id", "currency_id"],
    "properties": {
        "supplier_id": {
            "type": "string",
            "format": "uuid",
            "description": "Supplier to create the purchase order for"
        },
        "purchase_order_status_id": {
            "type": "string",
            "format": "uuid",
            "description": "Initial status for the purchase order"
        },
        "delivery_warehouse_id": {
            "type": "string",
            "format": "uuid",
            "description": "Warehouse for delivery"
        },
        "delivery_location_id": {
            "type": "string",
            "format": "uuid",
            "description": "Location within the warehouse for delivery"
        },
        "delivery_street_id": {
            "type": "string",
            "format": "uuid",
            "description": "Street address for delivery"
        },
        "currency_id": {
            "type": "string",
            "format": "uuid",
            "description": "Currency for the purchase order"
        },
        "order_number": {
            "type": "string",
            "description": "Custom order number (auto-generated if not provided)"
        },
        "expected_delivery_days": {
            "type": "integer",
            "minimum": 0,
            "description": "Expected number of days until delivery"
        },
        "notes": {
            "type": "string",
            "description": "Additional notes for the purchase order"
        },
        "source_from_event": {
            "type": "boolean",
            "description": "Whether to source line items from the triggering event data"
        },
        "default_line_item_status_id": {
            "type": "string",
            "format": "uuid",
            "description": "Default status for auto-created line items"
        },
        "line_items": {
            "type": "array",
            "description": "Line items to include in the purchase order",
            "items": {
                "type": "object",
                "required": ["product_id", "quantity_ordered", "line_item_status_id"],
                "properties": {
                    "product_id": {"type": "string", "format": "uuid"},
                    "supplier_product_id": {"type": "string", "format": "uuid"},
                    "quantity_ordered": {"type": "integer", "minimum": 1},
                    "unit_cost": {"type": "number", "minimum": 0},
                    "discount": {"type": "number", "minimum": 0},
                    "line_item_status_id": {"type": "string", "format": "uuid"},
                    "notes": {"type": "string"}
                }
            }
        }
    }
}
